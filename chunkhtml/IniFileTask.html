<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>C.38 IniFileTask</title><link rel="stylesheet" type="text/css" href="book.css"><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="Phing User Guide"><link rel="up" href="app.optionaltasks.html" title="Appendix C. Optional tasks"><link rel="prev" href="HttpRequestTask.html" title="C.37 HttpRequestTask"><link rel="next" href="IoncubeEncoderTask.html" title="C.39 IoncubeEncoderTask"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">C.38 IniFileTask</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="HttpRequestTask.html">Prev</a> </td><th width="60%" align="center">Appendix C. Optional tasks</th><td width="20%" align="right"> <a accesskey="n" href="IoncubeEncoderTask.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="IniFileTask"></a>C.38 IniFileTask</h2></div></div></div>
        
        <p>The <code class="literal">IniFileTask</code> is inspired by the <a class="ulink" href="http://ant-contrib.sourceforge.net/tasks/tasks/inifile.html" target="_top">Ant-Contrib IniFile</a>
        and can be used to build and edit .ini files. Unlike the Ant equivalent, it can also read values from different
        sections of an .ini file and set the retrieved values to specified properties.</p>
        <div class="table"><a name="id13460"></a><p class="formal-object-title"><span class="label">Table C.44: </span><span class="title">Attributes</span></p><div class="table-contents">
            
            <table class="table" summary="Attributes" border="1"><colgroup><col class="name"><col class="type"><col class="description"><col class="default"><col class="required"></colgroup><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th><th>Required</th></tr></thead><tbody><tr><td><code class="literal">dest</code></td><td><code class="literal">string</code></td><td>The name of the .ini file to write to. If not specified, the source file will be modified instead.</td><td>none</td><td>No</td></tr><tr><td><code class="literal">haltOnError</code></td><td><code class="literal">boolean</code></td><td>Should the build fail when problems occur?</td><td>false</td><td>No</td></tr><tr><td><code class="literal">source</code></td><td><code class="literal">string</code></td><td>The name of the .ini file to read from. If not specified, the dest file will be used instead.</td><td>none</td><td>No</td></tr></tbody></table>
        </div></div><br class="table-break">
        <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id13500"></a>C.38.1 Supported Nested Tags</h3></div></div></div>
            
            <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
                    <p><code class="literal">get</code>
                    </p>
                    <p>Use to read a value from a specific key and section of an .ini file</p>
                    <div class="table"><a name="id13507"></a><p class="formal-object-title"><span class="label">Table C.45: </span><span class="title">Attributes</span></p><div class="table-contents">
                        
                        <table class="table" summary="Attributes" border="1"><colgroup><col class="name"><col class="type"><col class="description"><col class="default"><col class="required"></colgroup><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th><th>Required</th></tr></thead><tbody><tr><td><code class="literal">default</code></td><td><code class="literal">String</code></td><td>Value to return if section, property or value are not set</td><td>n/a</td><td>No</td></tr><tr><td><code class="literal">section</code></td><td><code class="literal">String</code></td><td>Name of the section.</td><td>n/a</td><td>Yes</td></tr><tr><td><code class="literal">property</code></td><td><code class="literal">String</code></td><td>Name of the key, in the specified section, to read</td><td>n/a</td><td>Yes</td></tr><tr><td><code class="literal">outputproperty</code></td><td><code class="literal">String</code></td><td>Name of the property to set the value to</td><td>n/a</td><td>Yes</td></tr></tbody></table>
                    </div></div><br class="table-break">
                </li><li class="listitem">
                    <p><code class="literal">remove</code>
                    </p>
                    <p>Use to remove either a specific key or section from an .ini file</p>
                    <div class="table"><a name="id13559"></a><p class="formal-object-title"><span class="label">Table C.46: </span><span class="title">Attributes</span></p><div class="table-contents">
                        
                        <table class="table" summary="Attributes" border="1"><colgroup><col class="name"><col class="type"><col class="description"><col class="default"><col class="required"></colgroup><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th><th>Required</th></tr></thead><tbody><tr><td><code class="literal">section</code></td><td><code class="literal">String</code></td><td>Name of the section.</td><td>n/a</td><td>Yes</td></tr><tr><td><code class="literal">property</code></td><td><code class="literal">String</code></td><td>Name of the key to remove. If not specified the entire section is removed.</td><td>n/a</td><td>No</td></tr></tbody></table>
                    </div></div><br class="table-break">
                </li><li class="listitem">
                    <p><code class="literal">set</code>
                    </p>
                    <p>Use to set a key in a section to a specific value</p>
                    <div class="table"><a name="id13595"></a><p class="formal-object-title"><span class="label">Table C.47: </span><span class="title">Attributes</span></p><div class="table-contents">
                        
                        <table class="table" summary="Attributes" border="1"><colgroup><col class="name"><col class="type"><col class="description"><col class="default"><col class="required"></colgroup><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th><th>Required</th></tr></thead><tbody><tr><td><code class="literal">section</code></td><td><code class="literal">String</code></td><td>Name of the section.</td><td>n/a</td><td>Yes</td></tr><tr><td><code class="literal">property</code></td><td><code class="literal">String</code></td><td>Name of the key/property.</td><td>n/a</td><td>Yes</td></tr><tr><td><code class="literal">operation</code></td><td><code class="literal">String</code></td><td>The operation to perform on the existing value, which must be numeric. Possible values are "+" and "-", which add and subtract 1, respectively from the existing value. If the value doesn't already exist, the set is not performed, triggering an error.</td><td>n/a</td><td>No</td></tr><tr><td><code class="literal">value</code></td><td><code class="literal">String</code></td><td>The new value for the property.</td><td>n/a</td><td>No, if operation is specified.</td></tr></tbody></table>
                    </div></div><br class="table-break">
                </li></ul></div>
        </div>
        <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id13643"></a>C.38.2 Example</h3></div></div></div>
            
            <pre class="programlisting">
&lt;inifile
    haltonerror="no"
    dest="${project.basedir}/application/configs/application.ini"&gt;
    &lt;set section="production" property="buildTimestamp" value="${DSTAMP}${TSTAMP}" /&gt;
    &lt;set section="production" property="buildNumber" operation="+" /&gt;
    &lt;remove section="development : staging" /&gt;
&lt;/inifile&gt;</pre>
        </div>
    </div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="HttpRequestTask.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="app.optionaltasks.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="IoncubeEncoderTask.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">C.37 HttpRequestTask </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> C.39 IoncubeEncoderTask</td></tr></table></div></body></html>
