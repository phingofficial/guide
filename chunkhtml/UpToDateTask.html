<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>B.69 UpToDateTask</title><link rel="stylesheet" type="text/css" href="book.css"><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot"><link rel="home" href="index.html" title="Phing User Guide"><link rel="up" href="app.coretasks.html" title="Appendix B. Core tasks"><link rel="prev" href="URLEncodeTask.html" title="B.68 URLEncodeTask"><link rel="next" href="Variable.html" title="B.70 Variable"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">B.69 UpToDateTask</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="URLEncodeTask.html">Prev</a> </td><th width="60%" align="center">Appendix B. Core tasks</th><td width="20%" align="right"> <a accesskey="n" href="Variable.html">Next</a></td></tr></table><hr></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="UpToDateTask"></a>B.69 UpToDateTask</h2></div></div></div>
    
    <p>
        <code class="literal">UpToDateTask</code>
        tests if a file is newer than another file or files and sets a property if it is. This is a common way to avoid,
        possibly time consuming, creation of a target if none of the files/resources it depends on have changed.
    </p>
    <div class="table"><a name="id9425"></a><p class="formal-object-title"><span class="label">Table B.75: </span><span class="title">Attributes</span></p><div class="table-contents">
        
        <table class="table" summary="Attributes" border="1"><colgroup><col class="name"><col class="type"><col class="description"><col class="default"><col class="required"></colgroup><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Default</th><th>Required</th></tr></thead><tbody><tr><td>
                        <code class="literal">property</code>
                    </td><td>
                        <code class="literal">String</code>
                    </td><td>Name of the property that is to be set</td><td>n/a</td><td>Yes</td></tr><tr><td>
                        <code class="literal">value</code>
                    </td><td>
                        <code class="literal">String</code>
                    </td><td>The value the property is to be set to</td><td>
                        <code class="literal">true</code>
                    </td><td>No</td></tr><tr><td>
                        <code class="literal">srcfile</code>
                    </td><td>
                        <code class="literal">String</code>
                    </td><td>The file to check against target file(s)</td><td>n/a</td><td>Yes (or nested <code class="literal">fileset</code>)
                    </td></tr><tr><td>
                        <code class="literal">targetfile</code>
                    </td><td>
                        <code class="literal">String</code>
                    </td><td>The file for which we want to determine the status</td><td>n/a</td><td>Yes (or nested <code class="literal">mapper</code>)
                    </td></tr></tbody></table>
    </div></div><br class="table-break">
    <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id9476"></a>B.69.1 Examples</h3></div></div></div>
        
        <pre class="programlisting">&lt;uptodate property="propelBuild.notRequired"
            targetfile="${deploy}/propelClasses.tgz"&gt;
            &lt;fileset dir="${src}/propel"&gt;
            &lt;include="**/*.php"/&gt;
            &lt;/fileset&gt;
            &lt;/uptodate&gt;
        </pre>
        <p>The above example sets the property <code class="literal">propelBuild.notRequired</code> to true if the
            <code class="literal">${deploy}/propelClasses.tgz</code> file is more up-to-date than any of the PHP class files in
            the <code class="literal">${src}/propel</code>directory.
        </p>
        <pre class="programlisting">&lt;target name="CompileTarget"&gt;
    &lt;uptodate property="target.uptodate" targetfile="main"&gt;
        &lt;fileset refid="sources"/&gt;
    &lt;/uptodate&gt;
    &lt;if&gt;
        &lt;not&gt;&lt;isset property="target.uptodate"/&gt;&lt;/not&gt;
        &lt;then&gt;
            &lt;!-- Some commands to update the target ... --&gt;
        &lt;/then&gt;
    &lt;/if&gt;
&lt;/target&gt;
        </pre>
        <p>The above example shows a common use when doing a "compile" type target where a single target depends on
            other source files. In this case the commands to update the target (whatever they are) are only run if any
            of the source files are more up to date than the target.
        </p>
    </div>
    <div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a name="id9485"></a>B.69.2 Supported Nested Tags</h3></div></div></div>
        
        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
                <p>
                    <code class="literal">
                        <a class="link" href="FileList.html" title="D.3 FileList">filelist</a>
                    </code>
                </p>
            </li><li class="listitem">
                <p>
                    <code class="literal">
                        <a class="link" href="FileSet.html" title="D.4 FileSet">fileset</a>
                    </code>
                </p>
            </li><li class="listitem">
                <p>
                    <code class="literal">
                        <a class="link" href="app.coremappers.html" title="Appendix F. Core mappers">mapper</a>
                    </code>
                </p>
            </li></ul></div>
    </div>
</div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="URLEncodeTask.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="app.coretasks.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="Variable.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">B.68 URLEncodeTask </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> B.70 Variable</td></tr></table></div></body></html>
